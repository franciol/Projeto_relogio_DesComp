LIBRARY IEEE;
USE IEEE.STD_LOGIC_1164.ALL;

ENTITY ULAGenerico IS
    GENERIC (
        larguraDados : NATURAL := 2
    );
    PORT (
        ENTRADA_A : IN std_logic_vector(larguraDados - 1 DOWNTO 0);
        ENTRADA_B : IN std_logic_vector(larguraDados - 1 DOWNTO 0);
        SAIDA : OUT std_logic_vector(larguraDados - 1 DOWNTO 0);
        INSTRUCAO : IN std_logic_vector(1 DOWNTO 0);
        CLK : IN std_logic
    );
END ENTITY;

ARCHITECTURE comportamento OF registradorGenerico IS
BEGIN
    PROCESS (ALL)
    BEGIN
        IF (rising_edge(CLK)) THEN
            IF (INSTRUCAO = '00') THEN
                SAIDA <= ENTRADA_A + ENTRADA_B;
            ELSIF (INSTRUCAO = '01') THEN
                SAIDA <= ENTRADA_A - ENTRADA_B;
            END IF;

        END IF;

    END PROCESS;
END ARCHITECTURE;